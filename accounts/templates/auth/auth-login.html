<!DOCTYPE html>
<html lang="en">
<!-- <html lang="en" data-layout="topnav"> -->

<head>
    <meta charset="utf-8" />
    <title>Log In | Uplon - Responsive Bootstrap 5 Admin Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
    <meta content="Coderthemes" name="author" />

    <!-- App favicon -->
     <!-- App favicon -->
    <link rel="shortcut icon" href="/static/assets/images/favicon.svg">

    <!-- Vendor css -->
    <link href="/static/assets/css/vendor.min.css" rel="stylesheet" type="text/css" />

    <!-- App css -->
    <link href="/static/assets/css/app.min.css" rel="stylesheet" type="text/css" id="app-style" />

    <!-- Icons css -->
    <link href="/static/assets/css/icons.min.css" rel="stylesheet" type="text/css" />

    <!-- Theme Config Js -->
    <script src="/static/assets/js/config.js"></script>

</head>

<body class="authentication-bg bg-primary-background">

    <div class="account-pages pt-5 my-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8 col-lg-6 col-xl-5">
                    <div class="account-card-box bg-light rounded-2 p-2">
                        <div class="card mb-0 border border-primary border-4">
                            <div class="card-body p-4">
                                
                                <div class="text-center">
                                    <div class="my-3">
                                        <a href="/">
                                            <span><img src="/static/assets/images/logo-dark-afarinick.png" alt="" height="80"></span>
                                        </a>
                                    </div>
                                    <h5 class="text-muted text-uppercase py-3 font-16">Sign In</h5>
                                </div>

                                {% if messages %}
                                    <div class="container mt-3">
                                        {% for message in messages %}
                                        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                                            {{ message }}
                                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                        </div>
                                        {% endfor %}
                                    </div>
                                    {% endif %}

                               <form method="post" action="{% url 'login' %}" class="mt-2">
                                    {% csrf_token %}
                                    
                                    <!-- Display form errors at the top -->
                                    {% if form.errors %}
                                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                        <strong>Error!</strong> Please correct the following:
                                        <ul class="mb-0">
                                            {% for field, errors in form.errors.items %}
                                                {% for error in errors %}
                                                    <li>{{ error }}</li>
                                                {% endfor %}
                                            {% endfor %}
                                        </ul>
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                    </div>
                                    {% endif %}

                                    <div class="form-group mb-3">
                                        <input class="form-control" 
                                            type="text" 
                                            name="phone_number" 
                                            id="phone_number" 
                                            value="{{ form.phone_number.value|default:'' }}"
                                            required 
                                            placeholder="Enter your phone number">
                                        {% if form.phone_number.errors %}
                                            <div class="text-danger small mt-1">
                                                {{ form.phone_number.errors|join:", " }}
                                            </div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group mb-3">
                                        <input class="form-control" 
                                            type="password" 
                                            name="password" 
                                            id="password" 
                                            required 
                                            placeholder="Enter your password">
                                        {% if form.password.errors %}
                                            <div class="text-danger small mt-1">
                                                {{ form.password.errors|join:", " }}
                                            </div>
                                        {% endif %}
                                    </div>

                                    <div class="form-group mb-3">
                                        <div class="form-check">
                                            <input type="checkbox" 
                                                class="form-check-input" 
                                                id="remember_me" 
                                                name="remember_me"
                                                {% if form.remember_me.value %}checked{% endif %}>
                                            <label class="form-check-lhfabel ms-1" for="remember_me">Remember me</label>
                                        </div>
                                    </div>

                                    <div class="form-group text-center mb-3">
                                        <button class="btn btn-success btn-block waves-effect waves-light w-100" type="submit"> 
                                            Log In 
                                        </button>
                                    </div>

                                    <a href="/password_reset/" class="text-muted">
                                        <i class="mdi mdi-lock me-1"></i> Forgot your password?
                                    </a>
                                </form>
                               
                            </div> <!-- end card-body -->
                        </div>
                        <!-- end card -->
                    </div>

                    <div class="row mt-3">
                        <div class="col-12 text-center">
                            <p class="text-white-50">Don't have an account? <a href="/accounts/register/" class="text-white ms-1"><b>Sign Up</b></a></p>
                        </div> <!-- end col -->
                    </div>
                    <!-- end row -->

                </div> <!-- end col -->
            </div>
            <!-- end row -->
        </div>
        <!-- end container -->
    </div>

    <!-- Vendor js -->
    <script src="/static/assets/js/vendor.min.js"></script>

    <!-- App js -->
    <script src="/static/assets/js/app.js"></script>


</body>

</html>